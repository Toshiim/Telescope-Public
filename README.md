# Telescope

## Описание проекта

Telescope — система рекомендаций постов из Telegram на основе предпочтений пользователей с использованием нейронных сетей и эмбеддингов.

Система собирает сообщения из выбранных Telegram-каналов, обрабатывает их, сохраняет эмбеддинги в базу данных, а затем на основании схожести контента рекомендует пользователю наиболее релевантные посты. Пользователь взаимодействует с системой через Telegram-бота: получает рекомендации постов и оценивает их (лайк/дизлайк), влияя на будущие рекомендации.

## Архитектура пайплайна

1. **Сбор данных**:  
   Через TelegramUserAPI сервис получает посты из выбранных каналов в реальном времени.

2. **Очередь сообщений**:  
   Все новые посты передаются через RabbitMQ для асинхронной обработки.

3. **Обработка сообщений**:  
   Сервис обработки сообщений извлекает текст, генерирует эмбеддинг с помощью LLM (Сейчас используется qwen3:4b)

4. **Хранение данных**:  
   - Метаданные постов и пользовательские реакции сохраняются в базе данных (PostgreSQL через EF).
   - Эмбеддинги сообщений сохраняются в Qdrant.

5. **Система рекомендаций**:  
   Каждое новое сообщение проходит через сервис рекомендаций. Для сообщения сервис рекомендаций используя Recommendation API Qdrant со стратегией Best Score получает коэффициент релевантности, а для пользователя на основании его истории использования бота высчтывает порог. Если коэффициент релевантности выше порога, то сообщение рекомендуеться, иначе - нет.

6. **Интеракция с пользователем**:  
   Пользователь получает сообщения в Telegram-боте с возможностью оценивать их. Фидбэк записываеться в БД и учитываеться в следующих рекомендациях.

## Технологии
- RabbitMQ
- MassTransit
- Entity Framework Core
- PostgreSQL
- Qdrant
- Telegram.Bot API
- Telegram.Client.API
- Ollama
- Docker
- Serilog
---

